# üß© –§—É–Ω–∫—Ü–∏—è `reduce` –≤ Clojure: –ì–ª—É–±–æ–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ

## üîç –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `reduce`

```clojure
(reduce 
 accumulator-fn     ; –§—É–Ω–∫—Ü–∏—è –∞–∫–∫—É–º—É–ª—è—Ü–∏–∏
 initial-value      ; –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
 collection)        ; –ö–æ–ª–ª–µ–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
```

## üöÄ –†–∞–∑–±–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ FSM

```clojure
(reduce 
 (fn [current-state next-stage]
   ;; –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π FSM
   (let [stage-config (get-in fsm [:states current-state])
         valid-transition 
         (first 
          (filter 
           #((:validation %) item) 
           (:transitions stage-config)))]
     (if valid-transition
       (:next-state valid-transition)
       (throw (ex-info "–ù–µ –ø—Ä–æ—à–µ–ª –ø—Ä–æ–≤–µ—Ä–∫—É" 
                        {:item item 
                         :stage current-state})))))
 (:initial-state fsm)   ; –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
 (keys (:states fsm)))  ; –ö–æ–ª–ª–µ–∫—Ü–∏—è –¥–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–∏
```

## üß© –ü–æ—à–∞–≥–æ–≤–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ

### 1. –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- `(:initial-state fsm)` - —Å—Ç–∞—Ä—Ç–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–Ω–µ—á–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞
- –í –ø—Ä–∏–º–µ—Ä–µ: `:raw-material`

### 2. –ö–æ–ª–ª–µ–∫—Ü–∏—è –¥–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–∏
- `(keys (:states fsm))` - –∫–ª—é—á–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π
- –ü—Ä–∏–º–µ—Ä: `[:raw-material :processing :quality-check]`

### 3. –§—É–Ω–∫—Ü–∏—è –∞–∫–∫—É–º—É–ª—è—Ü–∏–∏
```clojure
(fn [current-state next-stage]
  ;; –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏
  )
```

## üí° –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

```
–ò—Ç–µ—Ä–∞—Ü–∏—è 1:
  current-state = :raw-material
  next-stage = :processing
  –†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–ò—Ç–µ—Ä–∞—Ü–∏—è 2:
  current-state = –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑ –ø–µ—Ä–≤–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
  next-stage = —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
  –†–µ–∑—É–ª—å—Ç–∞—Ç: –µ—â–µ –æ–¥–Ω–æ –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
```

## üéì –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –∞–Ω–∞–ª–æ–≥–∏—è

`reduce` –∫–∞–∫ –∫–æ–Ω–≤–µ–π–µ—Ä:
- –ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É
- –ù–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç - –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

## üìù –ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–∏–º–µ—Ä—ã

### –°—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ
```clojure
(reduce 
 (fn [acc x] (+ acc x))  ; –§—É–Ω–∫—Ü–∏—è –∞–∫–∫—É–º—É–ª—è—Ü–∏–∏
 0                       ; –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
 [1 2 3 4 5])            ; –ö–æ–ª–ª–µ–∫—Ü–∏—è
;; –†–µ–∑—É–ª—å—Ç–∞—Ç: 15
```

### –£–º–Ω–æ–∂–µ–Ω–∏–µ —Å –≤—ã–≤–æ–¥–æ–º
```clojure
(reduce 
 (fn [acc x]
   (let [new-acc (* acc x)]
     (println "–¢–µ–∫—É—â–∏–π acc:" new-acc)
     new-acc))
 1 
 [2 3 4 5])
```

## üî¨ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ FSM

`reduce` –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –ê–∫–∫—É–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–Ω–µ—á–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–∞
- –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö

## üí≠ –§–∏–ª–æ—Å–æ—Ñ–∏—è –ø–æ–¥—Ö–æ–¥–∞

`reduce` –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç:
- –ò–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –∫–æ–º–ø–æ–∑–∏—Ü–∏—é
- –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —Å—Ç–∏–ª—å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è

## üé≤ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 1: –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ
```clojure
;; –ù–∞–π—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
(reduce 
 (fn [max-val current]
   (max max-val current))
 0
 [5 2 10 1 7])
;; –†–µ–∑—É–ª—å—Ç–∞—Ç: 10
```

### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 2: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
```clojure
;; –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ map
(reduce 
 (fn [result item]
   (assoc result 
          (keyword (str "key-" item)) 
          (* item 2)))
 {}
 [1 2 3 4])
;; –†–µ–∑—É–ª—å—Ç–∞—Ç: {:key-1 2, :key-2 4, :key-3 6, :key-4 8}
```

## ü§î –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

1. –ß—Ç–æ —Ç–∞–∫–æ–µ `reduce`?
2. –ò–∑ —á–µ–≥–æ —Å–æ—Å—Ç–æ–∏—Ç –≤—ã–∑–æ–≤ `reduce`?
3. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è –∞–∫–∫—É–º—É–ª—è—Ü–∏–∏?
4. –í —á–µ–º –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ `reduce`?

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Clojure Docs: Reduce](https://clojuredocs.org/clojure.core/reduce)
- [Functional Programming in Clojure](https://www.braveclojure.com/)

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.0.0
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: [–¢–µ–∫—É—â–∞—è –¥–∞—Ç–∞] 