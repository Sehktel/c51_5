# AST (Abstract Syntax Tree) Module –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ C51

## –û–±–∑–æ—Ä

–ú–æ–¥—É–ª—å AST –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–º–∏ –¥–µ—Ä–µ–≤—å—è–º–∏ –≤ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–µ C51 –¥–ª—è –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ AT89S4051. –≠—Ç–æ—Ç –º–æ–¥—É–ª—å –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–æ—â–Ω—É—é –æ—Å–Ω–æ–≤—É –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞.

## –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üèóÔ∏è –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤ AST
- **–û–±—ä—è–≤–ª–µ–Ω–∏—è**: –ø—Ä–æ–≥—Ä–∞–º–º—ã, —Ñ—É–Ω–∫—Ü–∏–∏, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- **–û–ø–µ—Ä–∞—Ç–æ—Ä—ã**: –±–ª–æ–∫–∏, —É—Å–ª–æ–≤–∏—è (if), —Ü–∏–∫–ª—ã (while, for), return
- **–í—ã—Ä–∞–∂–µ–Ω–∏—è**: –±–∏–Ω–∞—Ä–Ω—ã–µ, —É–Ω–∞—Ä–Ω—ã–µ, –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è, –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π
- **–°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è C51**: interrupt, sfr, sbit –æ–±—ä—è–≤–ª–µ–Ω–∏—è

### üîç –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –∞–Ω–∞–ª–∏–∑
- –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö —É–∑–ª–æ–≤ AST
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ç–∏–ø–æ–≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
- –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã
- –°–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ —É–∑–ª–∞–º

### üö∂‚Äç‚ôÇÔ∏è Visitor Pattern
- –ì–∏–±–∫–∏–π –º–µ—Ö–∞–Ω–∏–∑–º –æ–±—Ö–æ–¥–∞ AST
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö visitor'–æ–≤
- –ê–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞
- –ü–æ–∏—Å–∫ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

### ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –°–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π
- –£–ø—Ä–æ—â–µ–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π
- –£–¥–∞–ª–µ–Ω–∏–µ –º–µ—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏

### üé® –ö—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ AST
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- –°–≤–æ–¥–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
c51cc/
‚îú‚îÄ‚îÄ src/c51cc/
‚îÇ   ‚îî‚îÄ‚îÄ ast.clj              # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å AST
‚îú‚îÄ‚îÄ test_ast.clj             # –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ simple_ast_test.clj      # –ü—Ä–æ—Å—Ç—ã–µ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ demo_ast_integration.clj # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ run_ast_tests.clj        # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤
‚îî‚îÄ‚îÄ AST_README.md           # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ —É–∑–ª–∞
```clojure
(require '[c51cc.ast :as ast])

;; –°–æ–∑–¥–∞–Ω–∏–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞
(def id-node (ast/identifier-node "variable"))

;; –°–æ–∑–¥–∞–Ω–∏–µ –ª–∏—Ç–µ—Ä–∞–ª–∞
(def lit-node (ast/literal-node 42 :number))

;; –°–æ–∑–¥–∞–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
(def expr-node (ast/binary-expression-node :plus id-node lit-node))
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è AST
```clojure
(def errors (ast/validate-ast expr-node))
(if (empty? errors)
  (println "‚úì AST –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω")
  (println "‚úó –ù–∞–π–¥–µ–Ω—ã –æ—à–∏–±–∫–∏:" errors))
```

### –ö—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥
```clojure
(ast/pretty-print expr-node)
;; –í—ã–≤–æ–¥–∏—Ç:
;; (binary-expression
;;   operator: :plus
;;   left: (identifier
;;       name: "variable")
;;   right: (literal
;;       value: 42
;;       literal-type: :number))
```

### –ê–Ω–∞–ª–∏–∑ AST
```clojure
;; –°–±–æ—Ä –≤—Å–µ—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤
(def identifiers (ast/collect-identifiers expr-node))

;; –ü–æ–¥—Å—á–µ—Ç —É–∑–ª–æ–≤ –ø–æ —Ç–∏–ø–∞–º
(def node-counts (ast/count-nodes-by-type expr-node))

;; –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≥–ª—É–±–∏–Ω—ã –¥–µ—Ä–µ–≤–∞
(def depth (ast/calculate-ast-depth expr-node))
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
```clojure
;; –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
(def const-expr (ast/binary-expression-node 
                  :plus 
                  (ast/literal-node 5 :number) 
                  (ast/literal-node 10 :number)))

;; –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (5 + 10 ‚Üí 15)
(def optimized (ast/optimize-ast const-expr))
```

## –¢–∏–ø—ã —É–∑–ª–æ–≤ AST

### –û–±—ä—è–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è
- `:program` - –∫–æ—Ä–Ω–µ–≤–æ–π —É–∑–µ–ª –ø—Ä–æ–≥—Ä–∞–º–º—ã
- `:function-declaration` - –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `:variable-declaration` - –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
- `:parameter-declaration` - –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞

### –û–ø–µ—Ä–∞—Ç–æ—Ä—ã (Statements)
- `:block-statement` - –±–ª–æ–∫ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –≤ {}
- `:expression-statement` - –æ–ø–µ—Ä–∞—Ç–æ—Ä-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ
- `:if-statement` - —É—Å–ª–æ–≤–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä
- `:while-statement` - —Ü–∏–∫–ª while
- `:for-statement` - —Ü–∏–∫–ª for
- `:return-statement` - –æ–ø–µ—Ä–∞—Ç–æ—Ä return

### –í—ã—Ä–∞–∂–µ–Ω–∏—è (Expressions)
- `:binary-expression` - –±–∏–Ω–∞—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ (a + b)
- `:unary-expression` - —É–Ω–∞—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ (++a)
- `:assignment-expression` - –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ (a = b)
- `:call-expression` - –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
- `:identifier` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `:literal` - –ª–∏—Ç–µ—Ä–∞–ª (—á–∏—Å–ª–æ, —Å—Ç—Ä–æ–∫–∞)
- `:array-access` - –¥–æ—Å—Ç—É–ø –∫ –º–∞—Å—Å–∏–≤—É

### –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è C51
- `:interrupt-declaration` - –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è
- `:sfr-declaration` - –æ–±—ä—è–≤–ª–µ–Ω–∏–µ SFR —Ä–µ–≥–∏—Å—Ç—Ä–∞
- `:sbit-declaration` - –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –±–∏—Ç–∞

## Visitor Pattern

–ú–æ–¥—É–ª—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω Visitor –¥–ª—è –≥–∏–±–∫–æ–≥–æ –æ–±—Ö–æ–¥–∞ AST:

```clojure
(defrecord MyVisitor [state]
  ast/ASTVisitor
  (visit-node [visitor node]
    ;; –û–±—Ä–∞–±–æ—Ç–∫–∞ —É–∑–ª–∞
    node)
  
  (enter-node [visitor node]
    ;; –í—Ö–æ–¥ –≤ —É–∑–µ–ª
    visitor)
  
  (exit-node [visitor node]
    ;; –í—ã—Ö–æ–¥ –∏–∑ —É–∑–ª–∞
    visitor))

;; –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
(def visitor (->MyVisitor (atom {})))
(ast/walk-ast visitor my-ast)
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ê–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞
```clojure
(defrecord ComplexityVisitor [complexity]
  ast/ASTVisitor
  (visit-node [visitor node]
    (case (:ast-type node)
      :if-statement (swap! (:complexity visitor) inc)
      :while-statement (swap! (:complexity visitor) inc)
      :for-statement (swap! (:complexity visitor) inc)
      nil)
    node)
  
  (enter-node [visitor node] visitor)
  (exit-node [visitor node] visitor))
```

### –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –∫–æ–¥–∞
```clojure
;; –ó–∞–º–µ–Ω–∞ –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —á–∏—Å–µ–ª –Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
(defn replace-magic-numbers [ast]
  (ast/transform-ast
    (fn [node]
      (if (and (= (:ast-type node) :literal)
               (= (:value node) 500))
        (ast/identifier-node "DELAY_MS")
        node))
    ast))
```

### –°–æ–∑–¥–∞–Ω–∏–µ AST –¥–ª—è C51 –ø—Ä–æ–≥—Ä–∞–º–º—ã
```clojure
(def led-program
  (ast/program-node
    [(ast/sfr-declaration-node "P1" 0x90)
     (ast/sbit-declaration-node "LED" 0x90)
     
     (ast/function-declaration-node
       {:ast-type :type-keyword :base-type :void}
       "main"
       []
       (ast/block-statement-node
         [(ast/while-statement-node
            (ast/literal-node 1 :number)
            (ast/block-statement-node
              [(ast/assignment-expression-node
                 :assign
                 (ast/identifier-node "LED")
                 (ast/unary-expression-node
                   :not
                   (ast/identifier-node "LED")))]))]))]))
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º

AST –º–æ–¥—É–ª—å –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å –¥—Ä—É–≥–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞:

1. **–õ–µ–∫—Å–µ—Ä** ‚Üí —Ç–æ–∫–µ–Ω—ã
2. **–ü–∞—Ä—Å–µ—Ä** ‚Üí AST (–∏—Å–ø–æ–ª—å–∑—É—è —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ ast.clj)
3. **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑** ‚Üí –∞–Ω–∞–ª–∏–∑ AST
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** ‚Üí —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è AST
5. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞** ‚Üí –æ–±—Ö–æ–¥ AST

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç
clojure -M simple_ast_test.clj

# –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ç–µ—Å—Ç—ã
clojure -M run_ast_tests.clj

# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
clojure -M demo_ast_integration.clj
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ú–æ–¥—É–ª—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è:
- –ë—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —É–∑–ª–æ–≤ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –æ–±—Ö–æ–¥–∞ –±–æ–ª—å—à–∏—Ö AST
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏
- –õ–µ–Ω–∏–≤—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ —É–∑–ª–∞
1. –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø –≤ `ast-node-types`
2. –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —É–∑–ª–∞
3. –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –≤ `walk-ast`
4. –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ visitor'–∞
1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª `ASTVisitor`
2. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ª–æ–≥–∏–∫—É –≤ `visit-node`
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `walk-ast` –¥–ª—è –æ–±—Ö–æ–¥–∞

## –û—Ç–ª–∞–¥–∫–∞

–ú–æ–¥—É–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–æ–≥–∞—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–ª–∞–¥–∫–∏:

```clojure
;; –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± AST
(ast/print-ast-summary my-ast)

;; –í—ã–≤–æ–¥ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
(ast/pretty-print my-ast :show-metadata true)

;; –í–∞–ª–∏–¥–∞—Ü–∏—è —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏
(def errors (ast/validate-ast my-ast))
(doseq [error errors]
  (println (:message error)))
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ú–æ–¥—É–ª—å AST –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—É—é –∏ –≥–∏–±–∫—É—é –æ—Å–Ω–æ–≤—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–º–∏ –¥–µ—Ä–µ–≤—å—è–º–∏ –≤ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–µ C51. –û–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–≥–æ –¥–ª—è –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ —Å–µ–º–µ–π—Å—Ç–≤–∞ 8051.

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è —É–∑–ª–æ–≤ AST
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏
- ‚úÖ –ì–∏–±–∫–∏–π visitor pattern
- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥ –∏ –æ—Ç–ª–∞–¥–∫–∞
- ‚úÖ –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è C51 –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ª–µ–∫—Å–µ—Ä–æ–º –∏ –ø–∞—Ä—Å–µ—Ä–æ–º
- ‚úÖ –†–∞—Å—à–∏—Ä—è–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ú–æ–¥—É–ª—å –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–º –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–µ C51! 